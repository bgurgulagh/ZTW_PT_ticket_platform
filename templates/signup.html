{% include 'header.html' %}

<body>
  <div class="main-content">
    <!-- Navbar -->
    <nav class="navbar navbar-expand-md navbar-dark fixed-top">
      <div class="container-xxl py-2 px-4">
        <div class="navbar-brand">
          <img
            src="{{ url_for('static', filename='images/logo.svg') }}"
            width="auto"
            height="25"
          />
        </div>
      </div>
    </nav>

    <!-- Wyświetlanie powiadomień z systemu -->
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <div class="container mt-3">
          {% for message in messages %}
            <div class="alert alert-info" role="alert">
              {{ message }}
            </div>
          {% endfor %}
        </div>
      {% endif %}
    {% endwith %}

    <!-- Rejestracja -->
    <section id="signup">
      <div class="container-lg mt-4 py-3 px-4">
        <div class="row">
          <h1 class="text-center display-4">Rejestracja</h1>
          <div class="col-md-6 mx-auto py-4">
            {% if error %}
            <div class="alert alert-danger" role="alert">{{ error }}</div>
            {% endif %}
            <form method="POST" action="{{ url_for('signup') }}">
              <div class="mb-3">
                <label for="firstname" class="form-label">Imię</label>
                <input
                  type="text"
                  class="form-control"
                  id="firstname"
                  name="firstname"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="lastname" class="form-label">Nazwisko</label>
                <input
                  type="text"
                  class="form-control"
                  id="lastname"
                  name="lastname"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="username" class="form-label">Nazwa użytkownika</label>
                <input
                  type="text"
                  class="form-control"
                  id="username"
                  name="username"
                  required
                />
              </div>
              <div class="mb-3">
                <label for="email" class="form-label">Adres e-mail</label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  required
                />
              </div>
              <input type="hidden" name="role" value="pasażer">
              <div class="mb-3">
                <label for="password" class="form-label">Hasło</label>
                <input
                  type="password"
                  class="form-control"
                  id="password"
                  name="password"
                  required
                />
              </div>
              <div class="d-flex justify-content-center mt-4 mb-2">
                <button type="submit" class="btn btn-primary">Załóż konto</button>
              </div>
              <div class="d-flex justify-content-center">
                <a href="/" role="button" class="btn btn-link">Masz już konto? Zaloguj się</a>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  </div>

  {% include 'footer.html' %}
</body>